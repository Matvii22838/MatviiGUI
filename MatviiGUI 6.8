local lp = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", lp:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

local menuFrame = Instance.new("Frame", gui)
menuFrame.Size = UDim2.new(0, 200, 0, 400)
menuFrame.Position = UDim2.new(0, 10, 0, 10)
menuFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
menuFrame.BorderSizePixel = 0
menuFrame.Active = true
menuFrame.Draggable = false
menuFrame.ClipsDescendants = true

local title = Instance.new("TextLabel", menuFrame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.Text = "MatviiGUI 6.8"
title.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
title.TextColor3 = Color3.fromRGB(255, 221, 51)
title.TextScaled = true
title.Font = Enum.Font.FredokaOne
title.Active = true
title.BorderSizePixel = 0
title.TextStrokeColor3 = Color3.fromRGB(255, 221, 51)
title.TextStrokeTransparency = 0.7

local scrollFrame = Instance.new("ScrollingFrame", menuFrame)
scrollFrame.Size = UDim2.new(1, 0, 1, -40)
scrollFrame.Position = UDim2.new(0, 0, 0, 40)
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.ScrollBarThickness = 6
scrollFrame.BackgroundTransparency = 1
scrollFrame.VerticalScrollBarInset = Enum.ScrollBarInset.ScrollBar

local layout = Instance.new("UIListLayout", scrollFrame)
layout.Padding = UDim.new(0, 8)
layout.SortOrder = Enum.SortOrder.LayoutOrder

layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	scrollFrame.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 15)
end)

local function createButton(text, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, -20, 0, 45)
	btn.Position = UDim2.new(0, 10, 0, 0)
	btn.BackgroundColor3 = Color3.fromRGB(255, 221, 51)
	btn.BackgroundTransparency = 0.15
	btn.TextColor3 = Color3.fromRGB(30, 30, 30)
	btn.TextScaled = true
	btn.Font = Enum.Font.FredokaOne
	btn.Text = text
	btn.BorderSizePixel = 0
	btn.Parent = scrollFrame

	-- Неонова тінь (простий ефект)
	local uiStroke = Instance.new("UIStroke", btn)
	uiStroke.Color = Color3.fromRGB(255, 221, 51)
	uiStroke.Thickness = 2
	uiStroke.Transparency = 0.5

	btn.MouseEnter:Connect(function()
		btn.BackgroundTransparency = 0
		uiStroke.Transparency = 0
	end)
	btn.MouseLeave:Connect(function()
		btn.BackgroundTransparency = 0.15
		uiStroke.Transparency = 0.5
	end)

	btn.MouseButton1Click:Connect(callback)
end

createButton("Fly", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
end)

createButton("Tool", function()
	local tool = Instance.new("Tool")
	tool.Name = "Cube"
	local part = Instance.new("Part")
	part.Name = "Handle"
	part.Size = Vector3.new(2,2,2)
	part.BrickColor = BrickColor.new("Bright yellow")
	part.Anchored = false
	part.CanCollide = true
	part.Parent = tool
	tool.Parent = lp.Backpack
end)

createButton("Boom", function()
	local char = lp.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		local ex = Instance.new("Explosion")
		ex.Position = char.HumanoidRootPart.Position
		ex.BlastRadius = 10
		ex.BlastPressure = 500000
		ex.Parent = workspace
	end
end)

createButton("Sword", function()
	local sword = Instance.new("Tool")
	sword.Name = "Sword"
	local handle = Instance.new("Part")
	handle.Name = "Handle"
	handle.Size = Vector3.new(1,4,1)
	handle.BrickColor = BrickColor.new("Bright red")
	handle.CanCollide = false
	handle.Anchored = false
	handle.Parent = sword
	local hit
	sword.Equipped:Connect(function()
		hit = handle.Touched:Connect(function(hitPart)
			local hum = hitPart.Parent:FindFirstChildOfClass("Humanoid")
			if hum and hitPart.Parent ~= lp.Character then
				hum:TakeDamage(25)
			end
		end)
	end)
	sword.Unequipped:Connect(function()
		if hit then hit:Disconnect() end
	end)
	sword.Parent = lp.Backpack
end)

createButton("Sit", function()
	local char = lp.Character
	if char and char:FindFirstChildOfClass("Humanoid") then
		char:FindFirstChildOfClass("Humanoid").Sit = true
	end
end)

createButton("Inventory", function()
	for _, item in pairs(lp.Backpack:GetChildren()) do
		if item:IsA("Tool") then item:Destroy() end
	end
	local char = lp.Character
	if char then
		for _, item in pairs(char:GetChildren()) do
			if item:IsA("Tool") then item:Destroy() end
		end
	end
end)

createButton("Leave", function()
	lp:Kick("You are out of the game.")
end)

createButton("Sound", function()
	local sound = Instance.new("Sound", workspace)
	sound.SoundId = "rbxassetid://145099824"
	sound.Volume = 5
	sound.Looped = false
	sound:Play()
end)

createButton("Какать", function()
	local char = lp.Character
	if not char then return end
	if char:FindFirstChild("HumanoidRootPart") then
		local ex = Instance.new("Explosion")
		ex.Position = char.HumanoidRootPart.Position
		ex.BlastRadius = 6
		ex.BlastPressure = 500000
		ex.Parent = workspace
	end
	local poopText = Instance.new("TextLabel", gui)
	poopText.Size = UDim2.new(1, 0, 0, 100)
	poopText.Position = UDim2.new(0, 0, 0.4, 0)
	poopText.BackgroundTransparency = 1
	poopText.Text = "КАКАТЬ"
	poopText.TextColor3 = Color3.fromRGB(255, 0, 0)
	poopText.TextScaled = true
	poopText.Font = Enum.Font.FredokaOne
	task.delay(2, function()
		poopText:Destroy()
	end)
	for _, part in pairs(char:GetDescendants()) do
		if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
			part.BrickColor = BrickColor.new("Reddish brown")
		end
	end
end)

createButton("kaboom", function()
	local bomb = Instance.new("Tool")
	bomb.Name = "Bomb"
	local handle = Instance.new("Part")
	handle.Name = "Handle"
	handle.Size = Vector3.new(1,1,1)
	handle.BrickColor = BrickColor.new("Really red")
	handle.Anchored = false
	handle.CanCollide = false
	handle.Parent = bomb
	bomb.Parent = lp.Backpack
end)

createButton("light", function()
	local char = lp.Character
	if not char then return end
	local light = char:FindFirstChild("Light")
	if light then
		light:Destroy()
	else
		local head = char:FindFirstChild("Head") or char.PrimaryPart
		if head then
			local newLight = Instance.new("PointLight")
			newLight.Name = "Light"
			newLight.Range = 15
			newLight.Brightness = 2
			newLight.Parent = head
		end
	end
end)

createButton("speed", function()
	local char = lp.Character
	if char and char:FindFirstChildOfClass("Humanoid") then
		char:FindFirstChildOfClass("Humanoid").WalkSpeed = 37
	end
end)

local noclipEnabled = false
createButton("noclip", function()
	noclipEnabled = not noclipEnabled
	local char = lp.Character
	if not char then return end
	for _, part in pairs(char:GetChildren()) do
		if part:IsA("BasePart") then
			part.CanCollide = not noclipEnabled
		end
	end
end)

createButton("ghost", function()
	local char = lp.Character
	if not char then return end
	for _, part in pairs(char:GetChildren()) do
		if part:IsA("BasePart") then
			part.Transparency = 0.5
		end
	end
end)

createButton("giant", function()
	local char = lp.Character
	if not char then return end
	for _, part in pairs(char:GetChildren()) do
		if part:IsA("BasePart") then
			part.Size = part.Size * 3
		end
	end
end)

local spinActive = false
createButton("spin", function()
	spinActive = not spinActive
	local char = lp.Character
	if not char or not char.PrimaryPart then return end
	spawn(function()
		while spinActive and char and char.PrimaryPart do
			char:SetPrimaryPartCFrame(char.PrimaryPart.CFrame * CFrame.Angles(0, math.rad(10), 0))
			wait(0.05)
		end
	end)
end)

createButton("jump", function()
	local char = lp.Character
	if char and char:FindFirstChildOfClass("Humanoid") then
		char:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
	end
end)

createButton("heal", function()
	local char = lp.Character
	if not char then return end
	local hum = char:FindFirstChildOfClass("Humanoid")
	if hum then
		hum.Health = hum.MaxHealth
	end
end)

local hideBtn = Instance.new("TextButton", menuFrame)
hideBtn.Size = UDim2.new(1, 0, 0, 35)
hideBtn.Position = UDim2.new(0, 0, 1, -35)
hideBtn.Text = "Hide"
hideBtn.BackgroundColor3 = Color3.fromRGB(255, 221, 51)
hideBtn.TextColor3 = Color3.fromRGB(30, 30, 30)
hideBtn.TextScaled = true
hideBtn.Font = Enum.Font.FredokaOne
hideBtn.BorderSizePixel = 0

local showBtn = Instance.new("TextButton", gui)
showBtn.Size = UDim2.new(0, 120, 0, 40)
showBtn.Position = UDim2.new(0, 10, 0, 10)
showBtn.Text = "Show MatviiGUI"
showBtn.Visible = false
showBtn.BackgroundColor3 = Color3.fromRGB(255, 221, 51)
showBtn.TextColor3 = Color3.fromRGB(30, 30, 30)
showBtn.TextScaled = true
showBtn.Font = Enum.Font.FredokaOne
showBtn.BorderSizePixel = 0

hideBtn.MouseButton1Click:Connect(function()
	menuFrame.Visible = false
	showBtn.Visible = true
end)

showBtn.MouseButton1Click:Connect(function()
	menuFrame.Visible = true
	showBtn.Visible = false
end)
